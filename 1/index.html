<!DOCTYPE html>
<!--what the flip are you doing.-->
<html>
  <script>
	  const speech = [
		"first text",
		"testing testing 123",
	  	"this is a test of the advancement of frames for this comic",
		"last text"
	  ]
	  let currentframe = 0
	  function init() {
          document.getElementById("text").innerText = speech[currentframe]
		  let episodenum = window.location.href.toString().slice(31);
		  episodenum = episodenum.substring(0, episodenum.length - 1);
		  // Convert episodenum to an integer
		  let currentEpisode = Number.parseInt(episodenum);
		  // Update the HTML element with the episode number
		  document.getElementById("episodenumber").innerText = episodenum;
		  // Set the href for the previous episode
		  let prevEpisode = currentEpisode - 1;
		  document.getElementById("prev").href = "https://v3rtual.github.io/pico/" + prevEpisode.toString();
		  // Set the href for the next episode
		  let nextEpisode = currentEpisode + 1;
		  document.getElementById("next").href = "https://v3rtual.github.io/pico/" + nextEpisode.toString();
		  // please dont mind this awfully jank approach to getting the episode number.
	  }
	  function changeframe(increment) {
		  currentframe = currentframe + increment
		  if(currentframe == 0) {
			document.getElementById("back").disabled = true
		  } else if(currentframe == speech.length - 1) {
			document.getElementById("next").disabled = true
		  } else {
			document.getElementById("back").disabled = false
			document.getElementById("next").disabled = false
		  }
		  document.getElementById("img").src = currentframe.toString() + ".png"
		  document.getElementById("text").innerText = speech[currentframe]
	  }
  </script>
  <head>
    <style>
	footer {
        	justify-content: center;
        	padding: 5px;
        	display: flex
      	}
	img {
		display: block;
		margin-left: auto;
		margin-right: auto;
		width: 40%
	}
	.textSpace {
        	justify-content: center;
        	padding-left: 12.5%;
        	padding-right: 12.5%;
        	display: flex
	}
	.buttonSpace {
        	padding-left: 12.5%;
        	padding-right: 12.5%
      	}
      	.next {
        	float: right
      	}
    </style>
  </head>
  <body onLoad="init()">
    <img id="img" src="0.png">
    <div class="textSpace" id="text">
      Please enable javascript, or this comic will not function.
    </div>
    <div class="buttonSpace">
      <button id="back" onClick="changeframe(-1);" disabled="">BACK</button>
      <button class="next" id="next" onClick="changeframe(1);">NEXT</button>
    </div>
    <footer>
      <a href="nowhere" id="prev">&lt; Previous Episode</a>
      &ensp;PICO by v3rtual. Currently on episode&nbsp;<none id="episodenumber">0</none>.&ensp;
      <a href="nowhere" id="next">  Next Episode &gt;</a>
    </footer>
  </body>
</html>
